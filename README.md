# VIGILANT-SF - Your Safety Companion

[![CODELABS](https://img.shields.io/badge/codelabs-4285F4?style=for-the-badge&logo=codelabs&logoColor=white)](https://codelabs-preview.appspot.com/?file_id=1xUfakw7LccMhvFhGFg9IFMVMT_t6iD20rxPMDuDIyWA#0)
[![APPLICATION](https://camo.githubusercontent.com/9a944119b0e3fd4786e3ece479d92267a043b3f238101dfa13ceee104956742d/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2d4170706c69636174696f6e2d79656c6c6f773f7374796c653d666f722d7468652d6261646765)](http://35.199.47.65:8503/)

# OVERVIEW:

VigilantSF is your go-to app for staying safe and informed. Get real-time insights on unsafe areas, interact with our chatbot for quick legal guidance, and empower yourself to make safer choices in your daily life. Say goodbye to lengthy documentsâ€”VigilantSF puts safety at your fingertips. Access now and see the difference it can make!

# TECHNOLOGY STACK:

![STREAMLIT](https://camo.githubusercontent.com/121d8055ce25931b33557341b1397ec6721dca05b7f07978cbf3c9b9f4509b13/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f53747265616d6c69742d4646344234423f7374796c653d666f722d7468652d6261646765266c6f676f3d73747265616d6c6974266c6f676f436f6c6f723d7768697465)
![PYTHON](https://camo.githubusercontent.com/9b071a101345849864a7ceb6b7f4fd417736f7cad1fe3c932bedfa09c2de43bc/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f507974686f6e2d3442384242453f7374796c653d666f722d7468652d6261646765266c6f676f3d707974686f6e266c6f676f436f6c6f723d79656c6c6f77)
![AIRFLOW](https://camo.githubusercontent.com/90283584a4d10128fab5d50234c7e8c51890dca9fba7a2eed2c134c4ff3d9650/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4170616368655f416972666c6f772d3030413745313f7374796c653d666f722d7468652d6261646765266c6f676f3d6170616368652d616972666c6f77266c6f676f436f6c6f723d7768697465)
![PINECONE](https://camo.githubusercontent.com/f7ca013f24dd4af1198ae37273a586f4e542e1956d1ae01fe998b8c443bd8d85/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f50696e65636f6e652d3635353846353f7374796c653d666f722d7468652d6261646765266c6f676f3d70696e65636f6e65266c6f676f436f6c6f723d7768697465)
![OPENAI](https://camo.githubusercontent.com/6c106082ea01116c5ddf8065ec79dbedfec28163d581b036c0768d0329e76776/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4f70656e41492d3431323939313f7374796c653d666f722d7468652d6261646765266c6f676f3d6f70656e6169266c6f676f436f6c6f723d7768697465)
![DOCKER](https://camo.githubusercontent.com/e20a054f7480fe4d651329ca4d15dc16767671ea36971dfca72ccf90413d615a/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f446f636b65722d3064623765643f7374796c653d666f722d7468652d6261646765266c6f676f3d646f636b6572266c6f676f436f6c6f723d7768697465)
![AMAZON S3](https://camo.githubusercontent.com/e2797019197ecc78e7b0b1242100f9d536442d89c10a06f8bc3813d428d7f8f3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f416d617a6f6e5f53332d4637434131383f7374796c653d666f722d7468652d6261646765266c6f676f3d616d617a6f6e2d7333266c6f676f436f6c6f723d7768697465)
![GOOGLE CLOUD](https://camo.githubusercontent.com/9bd9f9218a1c67f5069d37db967e8857b18e34acece18ea1a05333412951e993/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f476f6f676c655f436c6f75642d3432383546343f7374796c653d666f722d7468652d6261646765266c6f676f3d676f6f676c65636c6f7564266c6f676f436f6c6f723d7768697465)
![SNOWFLAKE](https://camo.githubusercontent.com/dc35a1d40a4c61e5b08851b29a05998c1150fa48e739484e1087bdd6ac9ac6b1/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f536e6f77666c616b652d3239423545383f7374796c653d666f722d7468652d6261646765266c6f676f3d736e6f77666c616b65266c6f676f436f6c6f723d7768697465)
![DBT](https://camo.githubusercontent.com/dbeb8520391260afb376555c2e6a5802e104bff96186cd2732c595f4a6b8f164/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4442542d4646363934423f7374796c653d666f722d7468652d6261646765266c6f676f3d646274266c6f676f436f6c6f723d7768697465)
![LANGCHAIN](https://camo.githubusercontent.com/43557a1c02764369679ec7edbb92177897dce39db30d30bfea10c9c758d5741f/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c616e67636861696e2d253343434f4c4f525f434f44452533453f7374796c653d666f722d7468652d6261646765266c6f676f436f6c6f723d7768697465)
![PANDAS](https://camo.githubusercontent.com/a38f77f5b33450d816dc95e4ac3f2fd9aad080d2bb6b4c54c85a79fcf3b8f8f8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f50616e6461732d3135303435383f7374796c653d666f722d7468652d6261646765266c6f676f3d70616e646173266c6f676f436f6c6f723d7768697465)
![SERPAPI](https://camo.githubusercontent.com/72ee93b3dc82a515dbac86bc8221489f93cb28c565c5b8565de6179d9860d30e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f534552505f4150492d3030393638383f7374796c653d666f722d7468652d6261646765266c6f676f3d676f6f676c65266c6f676f436f6c6f723d7768697465)
![PYTEST](https://camo.githubusercontent.com/e57aa62d1c0d72a5d602b2eeba5bf2bc231221a7f0cafba573f6fb51ae6a5c5e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f7079746573742d3041394544433f7374796c653d666f722d7468652d6261646765266c6f676f3d707974686f6e266c6f676f436f6c6f723d7768697465)

# PROBLEM STATEMENT:

In urban environments like San Francisco, ensuring personal safety requires not only awareness of potential threats but also a deep understanding of applicable laws in various situations. However, navigating through dense legal documents and understanding complex legal terminology can be daunting for the average citizen. Moreover, there is often a lack of easily accessible resources to provide guidance on non-emergency legal matters, leading to unnecessary strain on emergency response systems.

# PROJECT GOALS:

**Enhance Personal Safety**: Develop a platform to empower individuals with the knowledge and resources necessary to make informed decisions about their personal safety in urban environments, particularly in areas like San Francisco.

**Simplify Legal Understanding**: Provide users with easy access to understandable explanations of applicable laws and regulations in various everyday situations, thereby demystifying complex legal terminology and documents.

**Reduce Strain on Emergency Services**: Offer guidance on non-emergency legal matters to alleviate unnecessary burdens on emergency response systems, ensuring that resources are available for genuine emergencies.

**Increase Community Awareness**: Foster a sense of community awareness by promoting knowledge-sharing and collaboration among users to create a safer environment for everyone.

# LEARNING OUTCOMES:

**Legal Knowledge**: Gain a deeper understanding of applicable laws and regulations in urban environments, particularly those relevant to personal safety and non-emergency situations.

**Technical Skills**: Develop proficiency in building a user-friendly platform, integrating legal guidance features, and implementing interactive elements for user engagement.

**Problem-Solving**: Enhance problem-solving skills by addressing the challenge of simplifying complex legal concepts and making them accessible to a wide audience.

**Community Engagement**: Learn the importance of community engagement in promoting safety and well-being, and how technology can facilitate collaboration and information-sharing among community members.

**Ethical Considerations**: Understand the ethical implications of providing legal guidance through a technological platform and the responsibility to ensure accuracy and fairness in information dissemination.

**Impact Assessment**: Evaluate the impact of the project on community safety and emergency response systems, and identify areas for improvement and further development based on user feedback and data analysis.


# FOLDER STRUCTURE:
```
ðŸ“¦ FinalProject
â”œâ”€Â .github
â”‚Â Â â””â”€Â workflows
â”‚Â Â Â Â Â â””â”€Â python-app.yml
â”œâ”€Â .gitignore
â”œâ”€Â Airflow
â”‚Â Â â”œâ”€Â dags
â”‚Â Â â”‚Â Â â”œâ”€Â dag_2.py
â”‚Â Â â”‚Â Â â””â”€Â dag_process.py
â”‚Â Â â”œâ”€Â dockerfile
â”‚Â Â â”œâ”€Â logs
â”‚Â Â â”‚Â Â â””â”€Â scheduler
â”‚Â Â â”‚Â Â Â Â Â â””â”€Â latest
â”‚Â Â â”œâ”€Â plugins
â”‚Â Â â”‚Â Â â”œâ”€Â Law_PDF_Scrapping.py
â”‚Â Â â”‚Â Â â”œâ”€Â Pinecone_Upsert.py
â”‚Â Â â”‚Â Â â”œâ”€Â download_pdf.py
â”‚Â Â â”‚Â Â â”œâ”€Â prapare_data.py
â”‚Â Â â”‚Â Â â””â”€Â upload_snowflake.py
â”‚Â Â â””â”€Â requirements.txt
â”œâ”€Â FastAPI
â”‚Â Â â”œâ”€Â dockerfile
â”‚Â Â â”œâ”€Â main.py
â”‚Â Â â””â”€Â requirements.txt
â”œâ”€Â FastAPI2
â”‚Â Â â”œâ”€Â dockerfile
â”‚Â Â â”œâ”€Â main.py
â”‚Â Â â””â”€Â requirements.txt
â”œâ”€Â README.md
â”œâ”€Â Scripts
â”‚Â Â â”œâ”€Â Architecture_Diagram.ipynb
â”‚Â Â â”œâ”€Â Crime_KB
â”‚Â Â â”‚Â Â â”œâ”€Â Law_PDF_Scrapping.py
â”‚Â Â â”‚Â Â â””â”€Â Pinecone_Upsert.py
â”‚Â Â â”œâ”€Â EDA of OpenDATA
â”‚Â Â â”‚Â Â â”œâ”€Â EDA of SF Crime OpenData copy.ipynb
â”‚Â Â â”‚Â Â â””â”€Â EDA of SF Crime OpenData.ipynb
â”‚Â Â â””â”€Â Staging_Data
â”‚Â Â Â Â Â â”œâ”€Â PullData.py
â”‚Â Â Â Â Â â”œâ”€Â SQLAlchemy.py
â”‚Â Â Â Â Â â””â”€Â Stage_to_S3.py
â”œâ”€Â Streamlit
â”‚Â Â â”œâ”€Â app.py
â”‚Â Â â”œâ”€Â dockerfile
â”‚Â Â â”œâ”€Â plugins
â”‚Â Â â”‚Â Â â”œâ”€Â ai_law_help.py
â”‚Â Â â”‚Â Â â”œâ”€Â dashboard.py
â”‚Â Â â”‚Â Â â”œâ”€Â heat_map.py
â”‚Â Â â”‚Â Â â”œâ”€Â registration_login.py
â”‚Â Â â”‚Â Â â””â”€Â snowflake_operations.py
â”‚Â Â â””â”€Â requirements.txt
â”œâ”€Â data
â”‚Â Â â”œâ”€Â 144611NCJRS 1.pdf
â”‚Â Â â”œâ”€Â 144611NCJRS 1_text.txt
â”‚Â Â â”œâ”€Â 20181211154001480_App. D. California Penal Code Sections 187  190  190.1  190.2  190.3  190.4  and 190.5 1.pdf
â”‚Â Â â”œâ”€Â 20181211154001480_App. D. California Penal Code Sections 187  190  190.1  190.2  190.3  190.4  and 190.5 1_text.txt
â”‚Â Â â”œâ”€Â california-penal-code-definitions-for-sexual-assault-dating-violence-domestic-violence-and-stalking 1.pdf
â”‚Â Â â””â”€Â california-penal-code-definitions-for-sexual-assault-dating-violence-domestic-violence-and-stalking 1_text.txt
â”œâ”€Â dbt
â”‚Â Â â””â”€Â models
â”‚Â Â Â Â Â â”œâ”€Â core
â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â heatmap_cat.sql
â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â heatmap_dow.sql
â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â heatmap_holidays.sql
â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â heatmap_tod_gap.sql
â”‚Â Â Â Â Â â”‚Â Â â””â”€Â yearly_analytics.sql
â”‚Â Â Â Â Â â””â”€Â staging
â”‚Â Â Â Â Â Â Â Â â”œâ”€Â src_calendar.yml
â”‚Â Â Â Â Â Â Â Â â”œâ”€Â src_crime_incidents.yml
â”‚Â Â Â Â Â Â Â Â â”œâ”€Â src_public_holidays.yml
â”‚Â Â Â Â Â Â Â Â â”œâ”€Â stg_calendar.sql
â”‚Â Â Â Â Â Â Â Â â”œâ”€Â stg_crimes.sql
â”‚Â Â Â Â Â Â Â Â â”œâ”€Â stg_crimes.yml
â”‚Â Â Â Â Â Â Â Â â””â”€Â stg_public_holidays.sql
â”œâ”€Â diagrams
â”‚Â Â â”œâ”€Â airflow.png
â”‚Â Â â”œâ”€Â crime_reporting_system_architecture.png.png
â”‚Â Â â”œâ”€Â fastapi.png
â”‚Â Â â”œâ”€Â openai.png
â”‚Â Â â”œâ”€Â pinecone.png
â”‚Â Â â”œâ”€Â sf_gov_website.png
â”‚Â Â â”œâ”€Â snowflake.png
â”‚Â Â â”œâ”€Â streamlit.png
â”‚Â Â â””â”€Â user.png
â”œâ”€Â docker-compose.yaml
â”œâ”€Â requirements.txt
â””â”€Â tests
Â Â Â â”œâ”€Â integration
Â Â Â â”‚Â Â â””â”€Â intergation.py
Â Â Â â””â”€Â unit
Â Â Â Â Â Â â””â”€Â OpenData_API.py
```
Â©generated by [Project Tree Generator](https://woochanleee.github.io/project-tree-generator)

# HOW TO RUN THE APPLICATION: 

**Windows**:

1. **Clone the Git Repository**:
   Open Command Prompt or Git Bash, navigate to the desired directory, and clone the Git repository using the following command:
   "git clone <repository_url>"
   
2. **Add a .env File**:
   Navigate to the main folder of the project (FINALPROJECT) using File Explorer.
   Create a new file named .env and open it in a text editor.
   Add the environment variables following the specified format.
   
        SNOWFLAKE_USER=''
        SNOWFLAKE_PASSWORD=''
        SNOWFLAKE_ACCOUNT=''
        SNOWFLAKE_WAREHOUSE =''
        SNOWFLAKE_DATABASE =''
        SNOWFLAKE_SCHEMA = ''
        BUCKET_NAME=''
        AWS_SK=''
        AWS_AK='' 
        PINECONE_API_KEY =''
        OPENAI_API_KEY='' #include sk-
        AIRFLOW_UID=
   
**3.** **Build Docker Images:**
Open Windows Subsystem for Linux (WSL) and navigate to the project directory.
Run the following command to build the Docker images:
"docker-compose build"

**4. Run Docker Containers:**
After the images are built successfully, run the following command to start the Docker containers:
"docker-compose up"

**5. Access the Application:**
Once the containers are up and running, open a web browser and navigate to the URL specified for accessing the application.

**macOS:**

**1. Clone the Git Repository:**
Open Terminal, navigate to the desired directory, and clone the Git repository using the following command:
"git clone <repository_url>"

**2. Add a .env File:**
Navigate to the main folder of the project (FINALPROJECT) using Finder. 
Create a new file named .env and open it in a text editor. Add the environment variables following the specified format.

        SNOWFLAKE_USER=''
        SNOWFLAKE_PASSWORD=''
        SNOWFLAKE_ACCOUNT=''
        SNOWFLAKE_WAREHOUSE =''
        SNOWFLAKE_DATABASE =''
        SNOWFLAKE_SCHEMA = ''
        BUCKET_NAME=''
        AWS_SK=''
        AWS_AK='' 
        PINECONE_API_KEY =''
        OPENAI_API_KEY='' #include sk-
        AIRFLOW_UID=
        
**3. Build Docker Images:**
Open Terminal and navigate to the project directory. 
Run the following command to build the Docker images:
"docker-compose build"

**4. Run Docker Containers:**
After the images are built successfully, run the following command to start the Docker containers:
"docker-compose up"

**5. Access the Application:**
Once the containers are up and running, open a web browser and navigate to the URL specified for accessing the application.
Ensure that you have Docker Desktop installed on both Windows and macOS before proceeding with these steps. Adjustments to file navigation and commands may be needed based on your specific environment setup.

# CONTRIBUTION

| NAME  | PERCENTAGE |
| ------------- | ------------- |
| DONGYU LIU  | 33.3% |
| SUMIT SHARMA  | 33.3%  |
| EKTA BHATIA  | 33.3% |
| PARTH KALANI  | 33.3%  |

***WE ATTEST THAT WE HAVENâ€™T USED ANY OTHER STUDENTSâ€™ WORK IN OUR ASSIGNMENT AND ABIDE BY THE POLICIES LISTED IN THE STUDENT HANDBOOK***



